
@{
    ViewBag.Title = "Consulta de Folios";
    Layout = "~/Views/Shared/_MenuLayout.cshtml";
}

@Html.Partial("~/views/shared/_NavBar.cshtml")

<ol class="breadcrumb">
    <li><a href="#">Folios</a></li>
    <li><a href="#">Consultar</a></li>
</ol>
<div ng-controller="FolioController" ng-init="GetExecutiveLevel();">
    <form name="PQRByExecutive" autocomplete="off">
        <fieldset class="form-group container-fluid">
            <legend>Consulta de Folios</legend>
        </fieldset>
        <div class="panel panel-default col-sm-12">
            <div class="panel-body">
                <ul class="nav nav-pills">
                    <li role="presentation" class="active">
                        <a href="#nroFolio" role="tab" data-toggle="tab" style="font-weight: bold;">Folio</a>
                    </li>
                    <li role="presentation">
                        <a href="#fechaSolicitud" role="tab" data-toggle="tab" style="font-weight: bold;">Fecha de Solicitud</a>
                    </li>
                    <li role="presentation">
                        <a href="#fechaDesembolso" role="tab" data-toggle="tab" style="font-weight: bold;">Fecha de Desembolso</a>
                    </li>
                    <li role="presentation">
                        <a href="#fechaAprobacion" role="tab" data-toggle="tab" style="font-weight: bold;">Fecha de Aprobación</a>
                    </li>
                    <li role="presentation">
                        <a href="#asesoresCargo" role="tab" data-toggle="tab" style="font-weight: bold;">Asesores a Cargo</a>
                    </li>
                </ul>
                <div class="container-fluid">
                    <div class="tab-content ">
                        <div id="nroFolio" role="tabpanel" class="tab-pane fade in active">
                            <div class="col-sm-12 col-sm-8  col-md-8  col-lg-8   ">
                                <label for="lblIniDate" class="control-label">Número Folio</label>
                                <div class='input-group date'>
                                    <input type="text" id='idNroCredito' name="nameNroCredito" ng-model="folio.nroFolio" />
                                </div>
                            </div>
                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" style="background-color: #0080c0" ng-click="ConsultarFolio(1);">Consultar</button>
                            </div>
                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" style="background-color: #0080c0" ng-click="LimpiarFolio();">Limpiar</button>
                            </div>
                        </div>

                        <div id="fechaSolicitud" role="tabpanel" class="tab-pane fade ">
                            <div class="form-group col-sm-12 col-sm-4  col-md-4  col-lg-4   ">
                                <label for="lblIniDate" class="control-label">Desde</label>
                                <div class='date'>
                                    <input type="text" id='datetimepickerIni' name="fecIni" ng-model="folio.fecIni" datepicker placeholder="DD/MM/AAAA" />
                                </div>
                            </div>
                            <div class=" form-group col-sm-12 col-sm-4 col-md-4 col-lg-4 ">
                                <label for="lblIniDate" class="control-label">Hasta</label>
                                <div class='date'>
                                    <input type="text" id='datetimepickerFin' name="fecFin" ng-model="folio.fecFin" datepicker placeholder="DD/MM/AAAA" />
                                </div>
                            </div>
                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" ng-click="ConsultarFolio(2);">Consultar</button>
                            </div>
                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" ng-click="LimpiarFolio();">Limpiar</button>
                            </div>

                        </div>
                        <div id="fechaDesembolso" role="tabpanel" class="tab-pane fade">
                            <div class="form-group col-sm-12 col-sm-4  col-md-4  col-lg-4   ">
                                <label for="lblIniDate" class="control-label">Desde</label>
                                <div class='input-group date'>
                                    <input type="text" id='datetimepickerIni' name="fecIni" ng-model="folio.fecIni" datepicker placeholder="DD/MM/AAAA" />
                                </div>
                            </div>
                            <div class="form-group col-sm-12 col-sm-4 col-md-4 col-lg-4  ">
                                <label for="lblIniDate" class="control-label">Hasta</label>
                                <div class='input-group date'>
                                    <input type="text" id='datetimepickerFin' name="fecFin" ng-model="folio.fecFin" datepicker placeholder="DD/MM/AAAA" />
                                </div>
                            </div>
                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" ng-click="ConsultarFolio(3);">Consultar</button>
                            </div>
                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" ng-click="LimpiarFolio();">Limpiar</button>
                            </div>
                        </div>
                        @*Fecha Aprobacion*@
                        <div id="fechaAprobacion" role="tabpanel" class="tab-pane fade">
                            <div class="form-group col-sm-12 col-sm-4  col-md-4  col-lg-4   ">
                                <label for="lblIniDate" class="control-label">Desde</label>
                                <div class='input-group date'>
                                    <input type="text" id='datetimepickerIni' name="fecIni" ng-model="folio.fecIni" datepicker placeholder="DD/MM/AAAA" />
                                </div>
                            </div>
                            <div class="form-group col-sm-12 col-sm-4 col-md-4 col-lg-4  ">
                                <label for="lblIniDate" class="control-label">Hasta</label>
                                <div class='input-group date'>
                                    <input type="text" id='datetimepickerFin' name="fecFin" ng-model="folio.fecFin" datepicker placeholder="DD/MM/AAAA" />
                                </div>
                            </div>
                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" ng-click="ConsultarFolio(4);">Consultar</button>
                            </div>
                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" ng-click="LimpiarFolio();">Limpiar</button>
                            </div>
                        </div>

                        <div id="asesoresCargo" role="tabpanel" class="tab-pane fade">
                            <div class="col-sm-12 col-sm-4  col-md-4  col-lg-4   ">
                                <label for="lblIniDate" class="control-label">Nivel </label>
                                <select class="selectpicker form-control" ng-model="folio.codigoNivel"
                                        ng-options="niveles.Code as niveles.Name for niveles in Levels.lstExecutiveLevel"
                                        style="height: 40px;padding-top: 0px; padding-bottom: 0px;"
                                        ng-change="GetExecutiveChilds();">
                                    <option value="">Seleccione Nivel</option>
                                </select>
                            </div>

                            <div class="col-sm-12 col-sm-4  col-md-4  col-lg-4   ">
                                <label for="lblIniDate" class="control-label">Asesor</label>
                                <select class="selectpicker form-control" ng-model="folio.codigoHijo"
                                        ng-options="hijos.DocumentID as hijos.Name for hijos in Childs"
                                        style="height: 40px;padding-top: 0px; padding-bottom: 0px;">
                                    <option value="">Seleccione Asesor</option>
                                </select>
                            </div>

                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" ng-click="ConsultarFolio(5);">Consultar</button>
                            </div>
                            <div class="col-sm-12 col-sm-6 col-md-2 col-lg-2 ">
                                <label for="lblIniDate" class="control-label"></label>
                                <button type="submit" class="btn btn-info boton-info" ng-click="LimpiarFolio();">Limpiar</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <br />

        <div class="panel panel-default">
            <div class="table-responsive" @*ng-show="visible"*@ style="border: 1px solid;">
                <table class="table table-hover">
                    <thead>
                        <tr style="font-size: small;">
                            <th># Folio</th>
                            <th>Sucursal</th>
                            <th>Región</th>
                            <th>División</th>
                            <th>Promotor Crédito</th>
                            <th>Monto</th>
                            <th>Plazo </th>
                            <th>Cuota</th>
                            <th>Importe Desembolsado</th>
                            @*<th>Producto</th>*@
                            <th>Fecha Solicitud</th>
                            <th>Fecha Captura</th>
                            <th>Fecha Desembolso</th>
                            <th>Estatus Crédito</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in detailFolios" style="font-size:  small; white-space:nowrap;">
                            <td>{{item.folioNumber}}</td>
                            <td>{{item.branch}} </td>
                            <td>{{item.region}}</td>
                            <td>{{item.division}} </td>
                            <td>{{item.loanExecutive}}</td>
                            <td>{{item.amount  | currency}}</td>
                            <td>{{item.term}}</td>
                            <td>{{item.monthlyAmount  | currency}}</td>
                            <td>{{item.disbursementAmount  | currency}}</td>
                            @*<td>{{item.product}}</td>*@
                            <td>{{item.requestDate}}</td>
                            <td>{{item.captureDate}}</td>
                            <td>{{item.disbursementDate}}</td>
                            <td>{{item.loanStatus}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </form>
</div>